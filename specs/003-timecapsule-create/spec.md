# 타임캡슐 생성 페이지 명세서

**Feature Branch**: `feat/timecapsule-create`  
**Created**: 2026-01-26  
**Status**: Draft  
**Input**: User description: "타임캡슐 생성 페이지를 구현합니다. 사용자가 타임캡슐의 기본 정보를 입력하는 폼 페이지입니다."

## 📋 개요

### 프로젝트 목표
사용자가 새로운 타임캡슐을 생성하기 위해 필요한 기본 정보를 입력하고, 입력한 정보를 바탕으로 결제 단계로 진행할 수 있는 페이지를 제공합니다.

### 비즈니스 가치
- **사용자 경험 향상**: 타임캡슐 생성 과정을 단계별로 안내하여 사용자가 쉽게 정보를 입력할 수 있도록 지원
- **데이터 품질 보장**: 폼 유효성 검사를 통해 올바른 정보만 수집하여 서비스 품질 향상
- **전환율 향상**: 명확한 입력 과정과 즉각적인 피드백으로 사용자의 결제 단계 진입률 향상
- **개인화 경험**: 캡슐 테마/디자인 선택을 통해 사용자가 원하는 스타일의 타임캡슐을 만들 수 있도록 지원

### 범위
- **포함**: 
  - 타임캡슐 기본 정보 입력 폼 (캡슐 이름, 오픈 예정일, 참여 인원 수, 캡슐 테마/디자인 선택)
  - 폼 입력 필드별 유효성 검사 및 에러 메시지 표시
  - 폼 제출 시 입력 데이터 검증 및 결제 페이지로 이동
  - 사용자 친화적인 입력 가이드 및 피드백 제공
- **제외**: 
  - 실제 타임캡슐 생성 API 호출 (이 페이지에서는 폼 데이터만 관리)
  - 결제 페이지 구현
  - 타임캡슐 생성 후 처리 로직

---

## 🎯 사용자 시나리오

### US1: 사용자가 새로운 타임캡슐을 생성하기 위해 기본 정보를 입력 (Priority: P1)

**시나리오**: 사용자가 타임캡슐 생성 페이지에 접근하여 필요한 정보를 입력하고 결제 단계로 진행할 때

**사용자 행동**:
1. 사용자가 타임캡슐 생성 페이지에 접근
2. 사용자가 캡슐 이름을 입력
3. 사용자가 오픈 예정일을 선택
4. 사용자가 참여 인원 수를 입력
5. 사용자가 원하는 캡슐 테마/디자인을 선택
6. 사용자가 모든 필수 정보를 입력한 후 제출 버튼을 클릭
7. 시스템이 입력 정보를 검증하고 결제 페이지로 이동

**기대 결과**:
- 사용자가 모든 필수 정보를 쉽게 입력할 수 있음
- 각 입력 필드에 대한 명확한 가이드와 피드백이 제공됨
- 잘못된 입력 시 즉각적인 에러 메시지가 표시됨
- 모든 필수 정보가 올바르게 입력되면 결제 페이지로 이동함
- 입력한 정보가 결제 페이지로 정확히 전달됨

**성공 기준**:
- 사용자가 모든 필수 정보를 입력하는 데 걸리는 시간이 2분 이하
- 폼 제출 시 필수 항목 누락률 0%
- 잘못된 날짜 입력 시 에러 메시지 표시 성공률 100%
- 모든 필수 정보 입력 후 결제 페이지 이동 성공률 100%

**Acceptance Scenarios**:
1. **Given** 사용자가 타임캡슐 생성 페이지에 접근했을 때, **When** 모든 필수 정보를 입력하고 제출하면, **Then** 결제 페이지로 이동함
2. **Given** 사용자가 필수 정보를 입력하지 않고 제출 버튼을 클릭했을 때, **When** 폼이 검증되면, **Then** 누락된 필드에 대한 에러 메시지가 표시됨
3. **Given** 사용자가 오픈 예정일을 과거 날짜로 선택했을 때, **When** 날짜가 검증되면, **Then** 미래 날짜여야 한다는 에러 메시지가 표시됨
4. **Given** 사용자가 참여 인원 수를 0 이하의 값으로 입력했을 때, **When** 값이 검증되면, **Then** 1 이상의 값이어야 한다는 에러 메시지가 표시됨

---

### US2: 사용자가 입력 중 실수를 즉시 확인하고 수정 (Priority: P1)

**시나리오**: 사용자가 폼 입력 중 잘못된 값을 입력했을 때 즉시 피드백을 받고 수정할 때

**사용자 행동**:
1. 사용자가 특정 필드에 잘못된 값을 입력
2. 사용자가 다른 필드로 이동하거나 제출 버튼을 클릭
3. 시스템이 입력값을 검증하고 에러 메시지 표시
4. 사용자가 에러 메시지를 확인하고 올바른 값으로 수정
5. 에러 메시지가 사라지고 정상 상태로 변경

**기대 결과**:
- 잘못된 입력 시 즉시 에러 메시지가 표시됨
- 에러 메시지가 명확하고 수정 방법을 안내함
- 사용자가 올바른 값으로 수정하면 에러 메시지가 즉시 사라짐
- 에러가 있는 필드가 시각적으로 구분됨

**성공 기준**:
- 잘못된 입력 시 에러 메시지 표시 시간이 1초 이하
- 에러 메시지의 명확성 평가 점수가 4점 이상 (5점 만점)
- 사용자가 에러를 수정하는 데 걸리는 시간이 30초 이하
- 에러 메시지 표시 후 사용자가 올바른 값으로 수정하는 비율이 90% 이상

**Acceptance Scenarios**:
1. **Given** 사용자가 필수 필드를 비워두고 다른 필드로 이동했을 때, **When** 필드가 검증되면, **Then** 해당 필드에 에러 메시지가 표시됨
2. **Given** 사용자가 에러가 있는 필드에 올바른 값을 입력했을 때, **When** 값이 검증되면, **Then** 에러 메시지가 즉시 사라짐
3. **Given** 사용자가 여러 필드에 에러가 있을 때, **When** 제출 버튼을 클릭하면, **Then** 모든 에러 필드에 에러 메시지가 표시됨

---

### US3: 사용자가 원하는 캡슐 테마/디자인을 선택 (Priority: P2)

**시나리오**: 사용자가 타임캡슐의 시각적 스타일을 선택할 때

**사용자 행동**:
1. 사용자가 캡슐 테마/디자인 선택 섹션을 확인
2. 사용자가 제공된 테마/디자인 옵션 중 하나를 선택
3. 선택한 테마/디자인이 시각적으로 강조됨
4. 사용자가 다른 테마/디자인으로 변경 가능

**기대 결과**:
- 사용자가 선택 가능한 테마/디자인 옵션을 명확하게 확인할 수 있음
- 선택한 테마/디자인이 시각적으로 구분됨
- 사용자가 언제든지 다른 테마/디자인으로 변경할 수 있음
- 선택한 테마/디자인 정보가 결제 페이지로 전달됨

**성공 기준**:
- 사용자가 테마/디자인 선택에 걸리는 시간이 30초 이하
- 테마/디자인 선택 변경 성공률 100%
- 선택한 테마/디자인 정보가 결제 페이지로 전달 성공률 100%

**Acceptance Scenarios**:
1. **Given** 사용자가 캡슐 테마/디자인 선택 섹션에 접근했을 때, **When** 테마/디자인 옵션을 확인하면, **Then** 모든 선택 가능한 옵션이 명확하게 표시됨
2. **Given** 사용자가 특정 테마/디자인을 선택했을 때, **When** 선택이 완료되면, **Then** 선택한 옵션이 시각적으로 강조됨
3. **Given** 사용자가 이미 선택한 테마/디자인을 다시 선택했을 때, **When** 선택이 처리되면, **Then** 선택 상태가 유지됨

---

## 📋 기능 요구사항

### FR-001: 캡슐 이름 입력 필드
**설명**: 사용자가 타임캡슐의 이름을 입력할 수 있는 필드를 제공합니다.

**요구사항**:
- 캡슐 이름 입력 필드가 표시되어야 함
- 캡슐 이름은 필수 입력 항목이어야 함
- 캡슐 이름이 비어있을 때 에러 메시지가 표시되어야 함
- 캡슐 이름의 최대 길이 제한이 있어야 함 (선택적)
- 입력 중 실시간으로 글자 수를 표시할 수 있음 (선택적)

**검증 기준**:
- 캡슐 이름 필드가 정상적으로 표시됨
- 캡슐 이름이 비어있을 때 에러 메시지가 표시됨
- 캡슐 이름이 입력되면 에러 메시지가 사라짐
- 최대 길이 제한이 있는 경우 제한을 초과하면 에러 메시지가 표시됨

### FR-002: 오픈 예정일 선택 필드
**설명**: 사용자가 타임캡슐이 열릴 날짜를 선택할 수 있는 필드를 제공합니다.

**요구사항**:
- 오픈 예정일 선택 필드가 표시되어야 함
- 오픈 예정일은 필수 입력 항목이어야 함
- 오픈 예정일은 오늘 이후의 미래 날짜여야 함
- 과거 날짜를 선택하면 에러 메시지가 표시되어야 함
- 오늘 날짜를 선택하면 에러 메시지가 표시되어야 함
- 날짜 선택 인터페이스가 사용자 친화적이어야 함

**검증 기준**:
- 오픈 예정일 필드가 정상적으로 표시됨
- 오픈 예정일이 비어있을 때 에러 메시지가 표시됨
- 과거 날짜 선택 시 에러 메시지가 표시됨
- 오늘 날짜 선택 시 에러 메시지가 표시됨
- 미래 날짜 선택 시 에러 메시지가 표시되지 않음

### FR-003: 참여 인원 수 입력 필드
**설명**: 사용자가 타임캡슐에 참여할 인원 수를 입력할 수 있는 필드를 제공합니다.

**요구사항**:
- 참여 인원 수 입력 필드가 표시되어야 함
- 참여 인원 수는 필수 입력 항목이어야 함
- 참여 인원 수는 1 이상의 정수여야 함
- 0 이하의 값을 입력하면 에러 메시지가 표시되어야 함
- 음수 값을 입력하면 에러 메시지가 표시되어야 함
- 소수점 값을 입력하면 에러 메시지가 표시되어야 함 (또는 자동으로 정수로 변환)

**검증 기준**:
- 참여 인원 수 필드가 정상적으로 표시됨
- 참여 인원 수가 비어있을 때 에러 메시지가 표시됨
- 0 이하의 값 입력 시 에러 메시지가 표시됨
- 1 이상의 정수 입력 시 에러 메시지가 표시되지 않음

### FR-004: 캡슐 테마/디자인 선택 필드
**설명**: 사용자가 타임캡슐의 테마/디자인을 선택할 수 있는 필드를 제공합니다.

**요구사항**:
- 캡슐 테마/디자인 선택 필드가 표시되어야 함
- 여러 테마/디자인 옵션이 제공되어야 함
- 사용자가 하나의 테마/디자인을 선택할 수 있어야 함
- 선택한 테마/디자인이 시각적으로 구분되어야 함
- 사용자가 다른 테마/디자인으로 변경할 수 있어야 함
- 테마/디자인 선택은 필수 항목일 수 있음 (선택적)

**검증 기준**:
- 캡슐 테마/디자인 선택 필드가 정상적으로 표시됨
- 모든 테마/디자인 옵션이 표시됨
- 사용자가 테마/디자인을 선택할 수 있음
- 선택한 테마/디자인이 시각적으로 구분됨
- 테마/디자인 선택 변경이 정상적으로 작동함

### FR-005: 폼 유효성 검사
**설명**: 사용자가 입력한 모든 정보가 올바른지 검증하고, 잘못된 입력에 대해 피드백을 제공합니다.

**요구사항**:
- 모든 필수 필드가 입력되었는지 검증해야 함
- 각 필드의 입력값이 유효한 형식인지 검증해야 함
- 잘못된 입력 시 명확한 에러 메시지가 표시되어야 함
- 에러 메시지는 해당 필드 근처에 표시되어야 함
- 에러가 있는 필드가 시각적으로 구분되어야 함
- 사용자가 올바른 값으로 수정하면 에러 메시지가 즉시 사라져야 함
- 폼 제출 시 모든 필드가 한 번에 검증되어야 함

**검증 기준**:
- 필수 필드 누락 시 에러 메시지가 표시됨
- 잘못된 형식 입력 시 에러 메시지가 표시됨
- 에러 메시지가 명확하고 이해하기 쉬움
- 에러가 있는 필드가 시각적으로 구분됨
- 올바른 값 입력 시 에러 메시지가 즉시 사라짐
- 폼 제출 시 모든 검증이 정확히 수행됨

### FR-006: 폼 제출 및 결제 페이지 이동
**설명**: 사용자가 모든 정보를 입력하고 제출하면, 입력한 정보를 검증하고 결제 페이지로 이동합니다.

**요구사항**:
- 폼 제출 버튼이 표시되어야 함
- 폼 제출 시 모든 필드가 검증되어야 함
- 모든 검증을 통과하면 결제 페이지로 이동해야 함
- 입력한 모든 정보가 결제 페이지로 전달되어야 함
- 검증 실패 시 결제 페이지로 이동하지 않고 에러 메시지를 표시해야 함
- 폼 제출 중에는 제출 버튼이 비활성화되거나 로딩 상태를 표시해야 함 (선택적)

**검증 기준**:
- 폼 제출 버튼이 정상적으로 작동함
- 모든 검증을 통과한 경우 결제 페이지로 이동함
- 검증 실패 시 결제 페이지로 이동하지 않음
- 입력한 정보가 결제 페이지로 정확히 전달됨

---

## 🚀 비기능 요구사항 (NFR)

### 성능
- **NFR-001**: 페이지 로드 시간이 2초 이하
- **NFR-002**: 폼 입력 시 입력 지연 시간이 100ms 이하
- **NFR-003**: 날짜 선택 인터페이스 표시 시간이 500ms 이하
- **NFR-004**: 폼 검증 수행 시간이 200ms 이하

### 접근성
- **NFR-005**: 모든 입력 필드에 적절한 라벨이 제공됨
- **NFR-006**: 에러 메시지가 스크린 리더를 통해 읽을 수 있음
- **NFR-007**: 키보드만으로 모든 필드에 접근하고 입력할 수 있음
- **NFR-008**: 모든 인터랙티브 요소의 최소 터치 타겟 크기가 44px × 44px 이상

### 사용자 경험
- **NFR-009**: 에러 메시지가 명확하고 이해하기 쉬움
- **NFR-010**: 입력 필드 간 이동이 자연스럽고 직관적임
- **NFR-011**: 테마/디자인 선택 인터페이스가 시각적으로 명확함
- **NFR-012**: 폼 제출 과정에서 사용자가 진행 상황을 파악할 수 있음

### 호환성
- **NFR-013**: 주요 모바일 브라우저(Chrome, Safari, Firefox)에서 정상 동작
- **NFR-014**: 다양한 모바일 기기 화면 크기에서 레이아웃이 일관되게 표시됨
- **NFR-015**: 날짜 선택 인터페이스가 모든 주요 브라우저에서 정상 작동함

---

## 🔍 엣지 케이스 및 예외 상황

### EC-001: 모든 필수 필드가 비어있는 상태에서 제출
**상황**: 사용자가 아무것도 입력하지 않고 제출 버튼을 클릭

**처리 방법**:
- 모든 필수 필드에 대해 에러 메시지가 표시됨
- 첫 번째 필수 필드로 자동 스크롤하여 사용자의 주의를 끔
- 결제 페이지로 이동하지 않음

### EC-002: 매우 먼 미래 날짜 선택
**상황**: 사용자가 오픈 예정일로 매우 먼 미래(예: 100년 후)를 선택

**처리 방법**:
- 합리적인 최대 날짜 제한을 설정하거나 (선택적)
- 제한 없이 허용하되 사용자에게 확인 메시지 표시 (선택적)
- 기본적으로는 제한 없이 허용

### EC-003: 참여 인원 수에 매우 큰 값 입력
**상황**: 사용자가 참여 인원 수로 매우 큰 값(예: 1,000,000)을 입력

**처리 방법**:
- 합리적인 최대값 제한을 설정하거나 (선택적)
- 제한 없이 허용하되 사용자에게 확인 메시지 표시 (선택적)
- 기본적으로는 제한 없이 허용

### EC-004: 브라우저 뒤로가기 후 다시 접근
**상황**: 사용자가 결제 페이지로 이동한 후 브라우저 뒤로가기를 눌러 다시 생성 페이지로 돌아옴

**처리 방법**:
- 이전에 입력한 정보를 유지하거나 (선택적)
- 폼을 초기 상태로 리셋 (선택적)
- 기본적으로는 폼을 초기 상태로 리셋

### EC-005: 네트워크 오류 또는 페이지 새로고침
**상황**: 사용자가 입력 중 네트워크 오류가 발생하거나 페이지를 새로고침

**처리 방법**:
- 입력한 정보를 로컬 스토리지에 임시 저장하여 복구 가능하도록 함 (선택적)
- 또는 입력 정보를 잃고 처음부터 다시 입력하도록 함
- 기본적으로는 입력 정보를 잃고 처음부터 다시 입력

---

## 🎨 디자인 제약사항

### Figma 디자인 준수
- **Figma 디자인 참조**: 타임캡슐 생성 페이지의 디자인은 Figma 디자인 시안을 참조합니다
- **Figma 링크**: https://www.figma.com/design/KJVVnKITMTcrf9qIS7chiy/%ED%83%80%EC%9E%84%EC%BA%A1%EC%8A%90---%EC%9D%B4%EC%8A%A4%ED%84%B0%EC%97%90%EA%B7%B8--%EB%B3%B5%EC%82%AC-?node-id=187-4920&t=GSF9XflGaRp0IBGw-4
- **디자인 정확도**: 모든 컴포넌트의 크기, 간격, 색상, 스타일은 Figma 디자인과 pixel-perfect 수준으로 일치해야 함
- **디자인 토큰 준수**: Figma에서 정의된 색상, 간격, 타이포그래피 등의 디자인 토큰을 프로젝트의 `tailwind.config.js`에 선언된 변수로 import하여 사용
- **중복 선언 금지**: 하드코딩된 색상 값 사용 금지, 기존에 정의된 테마 변수를 재사용

### 레이아웃
- **모바일 기준 고정값**: 레이아웃 너비는 모바일 기준 고정값으로 설정됨
- **일관성**: 모든 페이지에서 레이아웃 구조가 일관되게 유지됨

### 폼 스타일
- **입력 필드 스타일**: 모든 입력 필드가 프로젝트 디자인 시스템을 준수함
- **에러 상태 스타일**: 에러가 있는 필드가 시각적으로 명확하게 구분됨
- **버튼 스타일**: 제출 버튼이 프로젝트 디자인 시스템을 준수함

### 테마/디자인 선택
- **시각적 표현**: 각 테마/디자인 옵션이 시각적으로 명확하게 표현됨
- **선택 상태**: 선택한 테마/디자인이 명확하게 구분됨

---

## 📊 성공 지표 (KPI)

### 사용자 경험
- **폼 완성률**: 사용자가 모든 필수 정보를 입력하고 제출하는 비율이 80% 이상
- **에러 발생률**: 폼 제출 시 검증 에러 발생률이 20% 이하
- **입력 완료 시간**: 사용자가 모든 필수 정보를 입력하는 데 걸리는 평균 시간이 2분 이하
- **재시도율**: 에러 발생 후 사용자가 다시 시도하는 비율이 70% 이상

### 기술적 품질
- **검증 정확도**: 폼 검증의 정확도가 100%
- **페이지 로드 성능**: 페이지 로드 시간이 2초 이하인 비율이 95% 이상
- **접근성 준수**: 모든 접근성 요구사항 준수율이 100%

### 비즈니스 지표
- **결제 페이지 전환율**: 폼 제출 후 결제 페이지로 이동하는 비율이 90% 이상
- **사용자 만족도**: 사용자가 폼 입력 과정에 대해 만족하는 비율이 85% 이상

---

## 🔗 기술 의존성

### 필수 의존성
- **인증 토큰**: 개발 환경에서 사용할 인증 토큰은 `.env.local` 파일의 `NEXT_PUBLIC_DEV_TOKEN` 환경 변수로 관리됨 (이 페이지에서는 API 호출 없음)
- **라우팅**: 결제 페이지로 이동을 위한 라우팅 시스템

### 선택적 의존성
- **날짜 선택 라이브러리**: 날짜 선택 인터페이스를 위한 라이브러리 (필요한 경우)
- **폼 상태 관리**: 폼 입력 상태 관리를 위한 라이브러리 (필요한 경우)
- **로컬 스토리지**: 입력 정보 임시 저장을 위한 로컬 스토리지 (선택적)

---

## 📝 가정사항

### 사용자 환경
- 사용자는 모바일 기기에서 웹 애플리케이션을 주로 사용함
- 사용자는 터치 인터페이스에 익숙함
- 사용자는 타임캡슐 생성 과정에 대해 기본적인 이해를 가지고 있음

### 기술 환경
- 인증된 사용자만 타임캡슐 생성 페이지에 접근할 수 있음
- 개발 환경에서 사용할 인증 토큰은 `.env.local` 파일의 `NEXT_PUBLIC_DEV_TOKEN` 환경 변수로 선언되어 있음
- 모든 API 요청 시 인증 토큰이 필요함 (이 페이지에서는 API 호출 없음)
- 입력한 정보는 결제 페이지로 전달되어야 함

### 비즈니스 규칙
- 타임캡슐 오픈 예정일은 미래 날짜여야 함
- 참여 인원 수는 최소 1명 이상이어야 함
- 캡슐 이름은 필수 입력 항목임
- 캡슐 테마/디자인 선택은 필수일 수 있음 (선택적)

### 데이터 전달
- 이 페이지에서는 실제 타임캡슐 생성 API를 호출하지 않음
- 입력한 모든 정보는 상태 관리 또는 라우팅 파라미터를 통해 결제 페이지로 전달됨
- 결제 페이지에서 최종적으로 타임캡슐 생성 API를 호출함

---

## 🚧 향후 확장 가능성

### 향후 개선 사항
- 입력 정보의 임시 저장 기능 (로컬 스토리지 활용)
- 입력 중 자동 저장 기능
- 이전 단계로 돌아가기 기능
- 입력 정보 미리보기 기능
- 캡슐 테마/디자인 미리보기 기능 강화

### 확장 가능한 기능
- 추가 입력 필드 (설명, 태그 등)
- 이미지 업로드 기능
- 위치 정보 입력 기능
- 친구 초대 기능
- 타임캡슐 생성 템플릿 제공
